!function(){var t=document.querySelector(".moviesT #details");if(t){var e=t.getAttribute("data-fetch-id");e?fetch("https://raw.githubusercontent.com/flickmint/post-boxoffice/refs/heads/main/boxoffice-data.json").then(function(t){if(!t.ok)throw new Error("Network response was not ok.");return t.json()}).then(function(t){var n=t.find(function(t){return t.PostID===e});if(n&&!n.error){if(C=document.querySelector(".boxOffice")){C.classList.remove("hidden");var r=C.querySelector(".pSL");r&&r.classList.remove("hidden")}var a=JSON.parse(n["Net Collections"]);a.sort(function(t,e){return parseInt(t.name.replace("Day","").trim(),10)-parseInt(e.name.replace("Day","").trim(),10)});var i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=i.indexOf(n["Release Day"]);o<0&&(o=0);var d=document.createElement("table");d.className="tableBox";var l=document.createElement("tbody");l.innerHTML="<tr><th>Day</th><th>India Net Collection</th><th>Change(+/-)</th></tr>";var s=0,c=0,u=0,h=[],p=null,f=[];a.forEach(function(t,e){var n=parseFloat(t.nettC);s+=n;var r=i[(o+e)%7];["Friday","Saturday","Sunday"].indexOf(r)>=0?null===p?(p=n,f=[r]):(p+=n,f.push(r)):null!==p&&(f.includes("Sunday")&&h.push(p),p=null,f=[]);var d=e>0?parseFloat(a[e-1].nettC):null,m="NA",b="noT";if(null!==d&&0!==d){var x=(n-d)/d*100;m=(x>0?"+":"")+x.toFixed(2)+"%",b=x>0?"addT":x<0?"subT":"noT"}var y,v,A,C=Math.floor(e/7)+1,E="Day "+(e+1)+" ["+((y=C)+((v=["th","st","nd","rd"])[((A=y%100)-20)%10]||v[A]||v[0]))+" "+r+"]",T=document.createElement("tr");if(T.innerHTML="<td>"+E+"</td><td>₹ "+t.nettC+' Cr</td><td class="'+b+'">'+m+"</td>",l.appendChild(T),(e+1)%7==0){var g="NA",S="noT";if(++c>1&&0!==u){var N=(s-u)/u*100;g=(N>0?"+":"")+N.toFixed(2)+"%",S=N>0?"addT":N<0?"subT":"noT"}var k=document.createElement("tr");k.classList.add("weekUp"),k.innerHTML='<td class="weekT">Week '+c+' Collection</td><td class="weekT boxC">₹ '+s.toFixed(2)+' Cr</td><td class="'+S+'">'+g+"</td>",l.appendChild(k),u=s,s=0}}),null!==p&&f.includes("Sunday")&&h.push(p);var m=a.reduce(function(t,e){return t+parseFloat(e.nettC)},0),b=document.createElement("tr");b.className="bTbx",b.innerHTML='<td>Total Net Collection</td><td colspan="2">₹ '+m.toFixed(2)+" Cr</td>",l.appendChild(b),d.appendChild(l);var x=document.querySelector(".boxColl");if(x&&(x.innerHTML="",x.appendChild(d)),h.length){var y=document.createElement("table");y.className="tableBox weekND";var v=document.createElement("tbody");v.innerHTML="<tr><th>Weekend</th><th>Collections</th><th>Change(+/-)</th></tr>";var A=null;h.forEach(function(t,e){var n="NA",r="noT";if(null!==A&&0!==A){var a=(t-A)/A*100;n=(a>0?"+":"")+a.toFixed(2)+"%",r=a>0?"addT":a<0?"subT":"noT"}var i=document.createElement("tr");i.innerHTML="<td>Weekend "+(e+1)+"</td><td>₹ "+t.toFixed(2)+' Cr</td><td class="'+r+'">'+n+"</td>",v.appendChild(i),A=t}),y.appendChild(v),x&&x.appendChild(y)}!function(){var t=document.querySelector(".box-line-chart");if(t){t.innerHTML="";var e="http://www.w3.org/2000/svg",n=t.offsetWidth,r=20,i=40,o=50,d=n-o-20,l=400-r-i,s=document.createElementNS(e,"svg");s.setAttribute("width",n),s.setAttribute("height",400),t.appendChild(s);var c=document.createElementNS(e,"g");c.setAttribute("transform","translate("+o+","+r+")"),s.appendChild(c);var u=a.map(function(t,e){return{day:e+1,val:parseFloat(t.nettC)}}),h=Math.max.apply(null,u.map(t=>t.val))/5,p=Math.floor(Math.log10(h)),f=Math.pow(10,p),m=h/f,b=(m<=1?1:m<=2?2:m<=5?5:10)*f,x=5*b;["x","y"].forEach(function(t){var n=document.createElementNS(e,"line");"x"===t?(n.setAttribute("x1",0),n.setAttribute("y1",l),n.setAttribute("x2",d),n.setAttribute("y2",l)):(n.setAttribute("x1",0),n.setAttribute("y1",0),n.setAttribute("x2",0),n.setAttribute("y2",l)),n.setAttribute("stroke","#000"),c.appendChild(n)});var y=document.createElementNS(e,"text");y.setAttribute("x",d/2),y.setAttribute("y",l+i-5),y.setAttribute("text-anchor","middle"),y.setAttribute("font-size","12px"),y.textContent="Days",c.appendChild(y);var v=document.createElementNS(e,"text");v.setAttribute("transform","translate("+(15-o)+","+l/2+") rotate(-90)"),v.setAttribute("text-anchor","middle"),v.setAttribute("font-size","12px"),v.textContent="Money",c.appendChild(v);var A=document.createElementNS(e,"polyline");A.setAttribute("fill","none"),A.setAttribute("stroke","#f97316"),A.setAttribute("stroke-width","2"),A.setAttribute("points",u.map(t=>N(t.day)+","+k(t.val)).join(" ")),c.appendChild(A),[1,5,10,15,20,25,30,35,40,45,50].forEach(function(t){if(!(t>u.length)){var n=N(t),r=document.createElementNS(e,"line");r.setAttribute("x1",n),r.setAttribute("y1",l),r.setAttribute("x2",n),r.setAttribute("y2",l+5),r.setAttribute("stroke","#000"),c.appendChild(r);var a=document.createElementNS(e,"text");a.setAttribute("x",n),a.setAttribute("y",l+18),a.setAttribute("text-anchor","middle"),a.setAttribute("font-size","10px"),a.textContent=t,c.appendChild(a)}});for(var C=0;C<=x;C+=b){var E=k(C),T=document.createElementNS(e,"line");T.setAttribute("x1",-5),T.setAttribute("y1",E),T.setAttribute("x2",0),T.setAttribute("y2",E),T.setAttribute("stroke","#000"),c.appendChild(T);var g=document.createElementNS(e,"text");g.setAttribute("x",-10),g.setAttribute("y",E+4),g.setAttribute("text-anchor","end"),g.setAttribute("font-size","10px"),g.textContent=C,c.appendChild(g)}var S=document.createElement("div");Object.assign(S.style,{position:"absolute",background:"rgba(0,0,0,0.7)",color:"#fff",padding:"5px",borderRadius:"3px",fontSize:"12px",pointerEvents:"none",display:"none",opacity:"0",transition:"opacity 0.2s",zIndex:"1000"}),t.appendChild(S),u.forEach(function(n){var r=N(n.day),a=k(n.val),i=document.createElementNS(e,"circle");function o(e){S.innerHTML="Day "+n.day+": ₹ "+n.val+" Cr",S.style.display="block",S.style.opacity="1";var r=t.getBoundingClientRect(),a=S.offsetWidth,i=S.offsetHeight,o=e.clientX-r.left+10,d=e.clientY-r.top-i-10;o+a>t.clientWidth&&(o=e.clientX-r.left-a-10),d<0&&(d=e.clientY-r.top+10),S.style.left=o+"px",S.style.top=d+"px"}function d(){S.style.opacity="0",setTimeout(()=>S.style.display="none",100)}i.setAttribute("cx",r),i.setAttribute("cy",a),i.setAttribute("r","4"),i.setAttribute("fill","#f97316"),c.appendChild(i),i.addEventListener("mouseenter",o),i.addEventListener("mousemove",o),i.addEventListener("mouseleave",d),i.addEventListener("touchstart",function(t){t.preventDefault(),"block"===S.style.display?d():o(t.touches[0])})})}function N(t){return(t-1)*(d/(u.length-1))}function k(t){return l-t/x*l}}(),function(){var t=document.querySelector(".rBoxCGraph");if(t){t.innerHTML="";var e=document.createElement("canvas");e.width=100,e.height=100,t.appendChild(e);var r=e.getContext("2d"),a=-Math.PI/2,i=parseFloat(n.Budget.match(/[\d.]+/)[0]||0),o=parseFloat(n["Box Office"].match(/[\d.]+/)[0]||0),d=i>0?Math.min(1,o/i):0,l=a+2*d*Math.PI;r.beginPath(),r.arc(50,50,40,0,2*Math.PI),r.strokeStyle="#f1f3f4",r.lineWidth=10,r.stroke(),r.beginPath(),r.arc(50,50,40,a,l),r.strokeStyle="#f97316",r.lineWidth=10,r.stroke(),r.font="16px Arial",r.fillStyle="#212121",r.textAlign="center",r.textBaseline="middle",r.fillText(Math.round(100*d)+"%",50,50)}}(),E("box-budget",n.Budget),E("box-gross",n.Gross),E("box-office-final",n["Box Office"]),E("box-verdict",n.Verdict)}else{var C;(C=document.querySelector(".boxOffice"))&&C.classList.add("hidden")}function E(t,e){var n=document.getElementById(t);n&&n.setAttribute("data-text",e)}}).catch(function(t){console.error("Fetch error:",t)}):console.error("No data-fetch-id set on #details")}}();
