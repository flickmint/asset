!function(){var t=document.querySelector(".moviesT #details");if(t){var e=t.getAttribute("data-fetch-id");e?fetch("https://raw.githubusercontent.com/flickmint/post-boxoffice/main/boxoffice-data.json").then(function(t){if(!t.ok)throw new Error("Network response was not ok.");return t.json()}).then(function(t){var r=t.find(function(t){return t.PostID===e});if(r){var n=JSON.parse(r["Net Collections"]),a=r["Release Day"];if(T=document.querySelector(".boxOffice")){T.classList.remove("hidden");var o=T.querySelector(".pSL");o&&o.classList.remove("hidden")}n.sort(function(t,e){return parseInt(t.name.replace("Day","").trim(),10)-parseInt(e.name.replace("Day","").trim(),10)});var i=document.createElement("table");i.className="tableBox";var d=document.createElement("tbody");d.innerHTML="<tr><th>Day</th><th>India Net Collection</th><th>Change(+/-)</th></tr>";var l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=l.indexOf(a);-1===s&&(s=0);var c=0,u=0,h=0,f=[],b=null,p=[];n.forEach(function(t,e){var r=parseFloat(t.nettC);c+=r;var a=(s+e)%7;5===a||6===a||0===a?null===b?(b=r,p=[a]):(b+=r,p.push(a)):null!==b&&(p.includes(0)&&f.push(b),b=null,p=[]);var o,i,m,x=e+1,v=Math.floor(e/7)+1,A="Day "+x+" ["+((o=v)+((i=["th","st","nd","rd"])[((m=o%100)-20)%10]||i[m]||i[0]))+" "+l[a]+"]",y="NA",C="noT";if(e>0){var T=parseFloat(n[e-1].nettC),g=(r-T)/T*100;y=g.toFixed(2)+"%",C=g>0?"addT":g<0?"subT":"noT"}var E=document.createElement("tr");if(E.innerHTML="<td>"+A+"</td><td>₹ "+t.nettC+' Cr</td><td class="'+C+'">'+y+"</td>",d.appendChild(E),x%7==0){var S="NA",N="noT";if(++u>1&&0!==h){var k=(c-h)/h*100;S=(k>0?"+":"")+k.toFixed(2)+"%",N=k>0?"addT":k<0?"subT":"noT"}var M=document.createElement("tr");M.classList.add("weekUp"),M.innerHTML='<td class="weekT">Week '+u+' Collection</td><td class="weekT boxC">₹ '+c.toFixed(2)+' Cr</td><td class="'+N+'">'+S+"</td>",d.appendChild(M),h=c,c=0}}),null!==b&&p.includes(0)&&f.push(b);var m=n.reduce(function(t,e){return t+parseFloat(e.nettC)},0),x=document.createElement("tr");x.className="bTbx",x.innerHTML='<td>Total Net Collection</td><td colspan="2">₹ '+m.toFixed(2)+" Cr</td>",d.appendChild(x),i.appendChild(d);var v=document.querySelector(".boxColl");if(v&&(v.innerHTML="",v.appendChild(i)),f.length){var A=document.createElement("table");A.className="tableBox weekND";var y=document.createElement("tbody");y.innerHTML="<tr><th>Weekend</th><th>Collections</th><th>Change(+/-)</th></tr>";var C=null;f.forEach(function(t,e){var r="NA",n="noT";if(null!==C&&0!==C){var a=(t-C)/C*100;r=(a>0?"+":"")+a.toFixed(2)+"%",n=a>0?"addT":a<0?"subT":"noT"}var o=document.createElement("tr");o.innerHTML="<td>Weekend "+(e+1)+"</td><td>₹ "+t.toFixed(2)+' Cr</td><td class="'+n+'">'+r+"</td>",y.appendChild(o),C=t}),A.appendChild(y),v&&v.appendChild(A)}!function(){var t=document.querySelector(".box-line-chart");if(t){t.innerHTML="";var e="http://www.w3.org/2000/svg",r=t.offsetWidth-70,a=20,o=20,i=40,d=50,l=n.map((t,e)=>({day:e+1,value:parseFloat(t.nettC)})),s=Math.max.apply(null,l.map(t=>t.value))/5,c=10**Math.floor(Math.log10(s)),u=s/c,h=(u<=1?1:u<=2?2:u<=5?5:10)*c,f=5*h,b=t=>(t-1)*(r/(l.length-1)),p=document.createElementNS(e,"svg");p.setAttribute("width",r+d+o),p.setAttribute("height",340+a+i);var m=document.createElementNS(e,"g");m.setAttribute("transform","translate("+d+","+a+")"),p.appendChild(m),["x","y"].forEach(function(t){var n=document.createElementNS(e,"line");"x"===t?(n.setAttribute("x1",0),n.setAttribute("y1",340),n.setAttribute("x2",r),n.setAttribute("y2",340)):(n.setAttribute("x1",0),n.setAttribute("y1",0),n.setAttribute("x2",0),n.setAttribute("y2",340)),n.setAttribute("stroke","#000"),m.appendChild(n)});var x=l.map(t=>b(t.day)+","+(t=>340-t/f*340)(t.value)).join(" "),v=document.createElementNS(e,"polyline");v.setAttribute("points",x),v.setAttribute("fill","none"),v.setAttribute("stroke","#f97316"),v.setAttribute("stroke-width","2"),m.appendChild(v),[1,5,10,15,20,25,30,35,40,45,50].forEach(function(t){if(t<=l.length){var r=b(t),n=document.createElementNS(e,"line");n.setAttribute("x1",r),n.setAttribute("y1",340),n.setAttribute("x2",r),n.setAttribute("y2",345),n.setAttribute("stroke","#000"),m.appendChild(n);var a=document.createElementNS(e,"text");a.setAttribute("x",r),a.setAttribute("y",358),a.setAttribute("text-anchor","middle"),a.setAttribute("font-size","10px"),a.textContent=t,m.appendChild(a)}});for(var A=0;A<=f;A+=h){var y=340-A/f*340,C=document.createElementNS(e,"line");C.setAttribute("x1",-5),C.setAttribute("y1",y),C.setAttribute("x2",0),C.setAttribute("y2",y),C.setAttribute("stroke","#000"),m.appendChild(C);var T=document.createElementNS(e,"text");T.setAttribute("x",-10),T.setAttribute("y",y+4),T.setAttribute("text-anchor","end"),T.setAttribute("font-size","10px"),T.textContent=A,m.appendChild(T)}t.appendChild(p)}}(),function(){var t=document.querySelector(".rBoxCGraph");if(t){t.innerHTML="";var e=document.createElement("canvas");e.width=e.height=100,t.appendChild(e);var n=e.getContext("2d"),a=r.Budget.match(/[\d\.]+/),o=a?parseFloat(a[0]):0,i=r["Box Office"].match(/[\d\.]+/),d=i?parseFloat(i[0]):0,l=o>0?d/o*100:0;l>100&&(l=100);var s=-Math.PI/2,c=s+l/100*2*Math.PI;n.beginPath(),n.arc(50,50,40,0,2*Math.PI),n.strokeStyle="#f1f3f4",n.lineWidth=10,n.stroke(),n.beginPath(),n.arc(50,50,40,s,c),n.strokeStyle="#f97316",n.lineWidth=10,n.stroke(),n.font="16px Arial",n.fillStyle="#212121",n.textAlign="center",n.textBaseline="middle",n.fillText(Math.round(l)+"%",50,50)}}(),["box-budget","box-gross","box-office-final","box-verdict"].forEach(function(t){var e=document.getElementById(t);if(e){var n="box-office-final"===t?"Box Office":"box-gross"===t?"Gross":"box-budget"===t?"Budget":"Verdict";e.setAttribute("data-text",r[n])}})}else{var T;(T=document.querySelector(".boxOffice"))&&T.classList.add("hidden")}}).catch(function(t){console.error("Fetch error:",t)}):console.error("No data-fetch-id set on #details")}}();
