!function(){const e=10,t=document.getElementById("history-container"),n=document.getElementById("SearchHItem"),o=document.querySelector(".clAHis"),a=document.querySelector(".pauCheck input"),i=document.body;t.innerHTML="";let s=[];try{s=JSON.parse(localStorage.getItem("historyUser"))||[]}catch{s=[]}function c(){t.innerHTML="";const e=document.createElement("div");e.className="f fdc gap-10 ai-c jc-c nItm",e.innerHTML='<div class="nItmSvg"><svg viewBox="0 0 24 24"><path d="M15.728 14.443a.91.91 0 0 1-1.286 1.286 3.433 3.433 0 0 0-2.443-1.012c-.923 0-1.79.359-2.443 1.012a.909.909 0 1 1-1.286-1.286 5.237 5.237 0 0 1 3.728-1.544 5.234 5.234 0 0 1 3.73 1.544zm-6.75-3.526c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.222 1.222 0 0 0-.857-.355c-.319 0-.631.13-.857.355-.225.226-.355.539-.355.857s.13.632.355.857c.225.225.538.355.857.355s.632-.129.857-.355zm6.901-2.069c-.319 0-.631.13-.857.355-.226.226-.355.538-.355.857s.129.632.355.857c.226.225.538.355.857.355s.632-.13.857-.355c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.224 1.224 0 0 0-.857-.355zM22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0z"></path></svg></div><div class="nItmTxt">There are no pages in your recent history.</div>',t.appendChild(e)}if(!s.length)return void c();const r=document.createElement("ol");t.appendChild(r);let l=0,d=0;const m=document.createElement("div");function h(e){const n=document.createElement("li");var o;return n.dataset.historyId=e.id,n.innerHTML=`<div class="f ai-c hisItm"><div class="hisLeft"><div class="hisImg"><img src="${e.image}" loading="lazy" alt="${e.title.replace(/\"/g,"&quot;")}" /></div></div><div class="f ai-c jc-sb w100 gap-5 hisRight"><div class="f fdc"><div class="hisHead"><h3>${e.title}</h3></div><div class="f fdc gap-5 hisTm"><span class="timeHis">${function(e){const t=Date.now()-e.getTime(),n=Math.floor(t/6e4);if(n<1)return"just now";if(n<60)return`${n} min${n>1?"s":""} ago`;const o=Math.floor(n/60);if(o<24)return`${o} hr${o>1?"s":""} ago`;const a=Math.floor(o/24);return`${a} day${a>1?"s":""} ago`}(new Date(e.viewAT))}</span><span class="timeHisTxt">${o=new Date(e.viewAT),o.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}</span></div></div><div class="clearItmH"><button type="button" class="delHS" aria-label="Delete" title="Remove from history"><svg class="line px-22" viewBox="0 0 24 24"><path d="M21 5.97998C17.67 5.64998 14.32 5.47998 10.98 5.47998C9 5.47998 7.02 5.57998 5.04 5.77998L3 5.97998"></path><path d="M8.5 4.97L8.72 3.66C8.88 2.71 9 2 10.69 2H13.31C15 2 15.13 2.75 15.28 3.67L15.5 4.97"></path><path d="M18.85 9.14001L18.2 19.21C18.09 20.78 18 22 15.21 22H8.79002C6.00002 22 5.91002 20.78 5.80002 19.21L5.15002 9.14001"></path><path d="M10.33 16.5H13.66"></path><path d="M9.5 12.5H14.5"></path></svg></button></div></div><a class="lnkAb" title="${e.title.replace(/\"/g,"&quot;")}" href="${e.url}"></a></div>`,n.querySelector(".delHS").addEventListener("click",(()=>{toastNotif.delete("Removed from history!"),s=s.filter((t=>t.id!==e.id)),localStorage.setItem("historyUser",JSON.stringify(s)),n.remove(),l=Math.max(0,l-1),l<s.length&&u(1),0!==s.length?l<s.length&&!v.isConnected&&!t.querySelector(".nItm")&&t.appendChild(v):c()})),n}function u(n=e){if(t.querySelector(".nItm"))return;m.isConnected&&m.remove();const o=s.slice(l,l+n);o.forEach((e=>r.appendChild(h(e)))),l+=o.length,l<s.length?v.isConnected||t.appendChild(v):(v.isConnected&&v.remove(),t.appendChild(m))}m.className="noMore",m.textContent="Loaded all!";const v=document.createElement("div");v.className="pSL";const p=document.createElement("button");p.type="button",p.className="btn is-small",p.setAttribute("aria-label","Load more"),p.title="Load more",p.innerHTML='Load More <i class="fa-chevron-down"><svg viewBox="0 0 24 24"><polyline points="6 9 12 15 18 9"/></svg></i>',p.addEventListener("click",(()=>u())),v.appendChild(p),u(),n.addEventListener("input",(()=>{const e=n.value.trim().toLowerCase();l>d&&(d=l),r.innerHTML="";const o=t.querySelector(".noSH");if(o&&o.remove(),v.isConnected&&v.remove(),m.isConnected&&m.remove(),!e)return l=0,void(d>=s.length?u(s.length):u(d));const a=s.filter((t=>t.title.toLowerCase().includes(e)));if(!a.length){const e=document.createElement("div");return e.className="noSH",e.textContent="No results found",void t.appendChild(e)}a.forEach((e=>r.appendChild(h(e))))})),"true"===localStorage.getItem("historyPause")&&(a.checked=!0),a.addEventListener("change",(()=>{a.checked?localStorage.setItem("historyPause","true"):localStorage.removeItem("historyPause")})),o.addEventListener("click",(()=>{const e=document.createElement("div");e.className="f ai-c jc-c p16 confirmPopup",e.innerHTML='<div class="popupContent"><p>Are you sure to clear?</p><div class="f jc-c gap-30 popupActions"><button class="btn confirmYes hisYes" type="button" aria-label="Yes history button">Yes</button><button class="btn confirmNo hisNo" type="button" aria-label="No history button">No</button></div></div>',i.appendChild(e),e.querySelector(".hisYes").addEventListener("click",(()=>{localStorage.removeItem("historyUser"),c(),e.remove()})),e.querySelector(".hisNo").addEventListener("click",(()=>{e.remove()}))}))}();
