async function fetchBloggerPosts(){try{const[e,t]=await Promise.all([fetch("/feeds/posts/default/-/Series?alt=json&max-results=50"),fetch("/feeds/posts/default/-/Movie?alt=json&max-results=50")]),s=await e.json(),i=await t.json(),a=s.feed.entry||[],l=i.feed.entry||[],r=shuffleArray(a),n=shuffleArray(l),o=r.slice(0,6),c=n.slice(0,6);renderPosts(o.concat(c)),initializeSplide()}catch(e){console.error("Error fetching posts:",e)}}function shuffleArray(e){for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e}function resizeImage(e){return e.replace(/.*?:\/\//g,"//").replace(/\/[w,s][0-9][0-9].*\//g,"/w300-h450-c-rw/").replace(/=s72-[w,c].*/g,"=s450")}function renderPosts(e){const t=document.getElementById("splide");t.innerHTML='<div class="splide__track"><ul class="splide__list"></ul></div>';const s=t.querySelector(".splide__list");e.forEach((e=>{const t=e.link.find((e=>"alternate"===e.rel)).href,i=e.content.$t;!function(e){const t=e.split(".post-");t.length>1&&t[1]}(e.id.$t||"");const a=i.match(/data-title="([^"]+)"/),l=a?.[1]||e.title?.$t||"No Title Available",r=i.match(/<img[^>]+src="([^">]+)"/);let n="";n=r?.[1]?resizeImage(r[1]):e.media$thumbnail?.url?resizeImage(e.media$thumbnail.url):"https://cdn.flickmint.com/s300_450.png";const o=`<li class="splide__slide"><div class="ipst type-overlap"><div class="ipstI"><a href="${t}" title="${l}"><img alt="${l}" src="${n}" loading="lazy" width="100%"/></a></div><div class="ipstB"><h3 class="ipstT">${l}</h3><div class="ipstA"><a class="btn is-primary" href="${t}" title="View ${l}"><i class='fa-play'><svg fill='currentColor' viewBox='0 0 512 512' role='presentation'><path d='M133,440a35.37,35.37,0,0,1-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37,7.46-27.53,19.46-34.33a35.13,35.13,0,0,1,35.77.45L399.12,225.48a36,36,0,0,1,0,61L151.23,434.88A35.5,35.5,0,0,1,133,440Z'/></svg></i>View details</a></div></div></div></li>`;s.innerHTML+=o}))}function initializeSplide(){new Splide("#splide",{type:"loop",perPage:6,perMove:1,gap:"1rem",autoplay:!0,interval:3e3,pauseOnHover:!0,focus:"center",pagination:!0,arrows:!0,mediaQuery:"min",breakpoints:{1100:{perPage:6},980:{perPage:4},680:{perPage:4},340:{perPage:2},0:{perPage:2}}}).mount()}fetchBloggerPosts();
function setupYouTubeVideo(){Promise.all([fetch("/feeds/posts/default/-/Series?alt=json&max-results=20&orderby=published"),fetch("/feeds/posts/default/-/Movie?alt=json&max-results=20&orderby=published")]).then(e=>(e.forEach(e=>{if(!e.ok)throw new Error(`Network response was not ok ${e.statusText}`)}),Promise.all(e.map(e=>e.json())))).then(e=>{const[t,o]=e;function i(e){const t=[];return e.feed.entry.forEach(e=>{if(t.length>=5)return;const o=(new DOMParser).parseFromString(e.content.$t,"text/html").querySelector("[data-video]");if(o){const i=o.getAttribute("data-video"),s=e.link.find(e=>"alternate"===e.rel).href,n=e.title.$t,d=`https://img.youtube.com/vi/${i}/mqdefault.jpg`;t.push({postURL:s,title:n,videoId:i,thumbnailUrl:d})}}),t}const s=i(t),n=i(o);s.length<5&&console.error("Not enough series videos found"),n.length<5&&console.error("Not enough movies videos found");const d=[...s,...n];!function(e){for(let t=e.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}}(d);const l=document.getElementById("youtube-videos");l.classList.add("youtube-videos-home"),l.innerHTML="";let r="";d.forEach(e=>{r+=`<div class="video-container iTrs"><div class="video-top"><span class="video-img iTrsI"><img width="100%" height="100%" src="${e.thumbnailUrl}" loading="lazy" alt="${e.title} YouTube Video" data-video-id="${e.videoId}"/></span><span class="video-on-play"><button aria-label="Play ${e.title}" title="Play ${e.title} YouTube Video" class="play-button" type="button"><svg fill="currentColor" viewBox="0 0 512 512" role="presentation"><path d="M133,440a35.37,35.37,0,0,1-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37,7.46-27.53,19.46-34.33a35.13,35.13,0,0,1,35.77.45L399.12,225.48a36,36,0,0,1,0,61L151.23,434.88A35.5,35.5,0,0,1,133,440Z"/></svg></button></span></div><div class="video-bottom"><div class="post-videos-title"><a href="${e.postURL}" title="Check out: ${e.title}">${e.title}</a></div></div></div>`}),l.innerHTML=r,l.querySelectorAll(".play-button").forEach(e=>{e.addEventListener("click",()=>{const t=e.closest(".video-container").querySelector("img").getAttribute("data-video-id"),o=document.createElement("div");o.classList.add("post-videos-content"),o.innerHTML=`<div class="post-videos-box"><div class="post-videos-inner"><iframe src="https://www.youtube.com/embed/${t}" allowfullscreen></iframe></div><div class="videos-close"><svg class="iMark" viewBox="0 0 24 24" role="presentation"><path d="M18 6 6 18M6 6l12 12"></path></svg></div></div>`,o.querySelector(".videos-close").addEventListener("click",()=>document.body.removeChild(o)),o.addEventListener("click",()=>document.body.removeChild(o)),o.querySelector(".post-videos-box").addEventListener("click",e=>e.stopPropagation()),document.body.appendChild(o)})})}).catch(e=>console.error("Error fetching videos:",e))}setupYouTubeVideo();
!function(){const e=document.getElementById("tab-series");if(!e)return void console.error("Container with id 'tab-series' not found.");const t=e.getAttribute("data-fetch-type");fetch(`/feeds/posts/default/-/${t}?alt=json&max-results=10&orderby=published`).then((e=>e.json())).then((t=>{const s=t.feed&&t.feed.entry||[];let a="";s.forEach((e=>{let t=e.title&&e.title.$t||"Untitled";t=t.replace(/"([^"]*)"/g,"“$1”");const s=function(e){const t=e.split(".post-");return t.length>1?t[1]:e}(e.id.$t||""),i=e.link&&e.link.find((e=>"alternate"===e.rel))?.href||"#";let l=e.media$thumbnail&&e.media$thumbnail.url||"https://cdn.flickmint.com/s300_450.png";l=function(e){return e.replace(/.*?:\/\//g,"//").replace(/\/[w,s][0-9][0-9].*\//g,"/w300-h450-c-rw/").replace(/=s72-[w,c].*/g,"=s450")}(l);let n="";if(e.category)for(let t=0;t<e.category.length;t++){const s=e.category[t].term,a=parseInt(s,10);if(!isNaN(a)&&a>=1950&&a<=2035){n=a;break}}a+=`<li class="splide__slide"><div class="ipst"><div class="ipstI"><a href="${i}" title="${t}"><img alt="${t}" loading="lazy" src="${l}" width="100%"/></a><div class="ipstBk"><span class="avg-score is-small"><i class="fa-star"><svg fill="none" viewBox="0 0 20 20" role="presentation"><path d="M9.10433 2.89874C9.47114 2.15549 10.531 2.1555 10.8978 2.89874L12.8282 6.81024L17.1448 7.43748C17.9651 7.55666 18.2926 8.56464 17.699 9.14317L14.5755 12.1878L15.3129 16.487C15.453 17.3039 14.5956 17.9269 13.8619 17.5412L10.0011 15.5114L6.14018 17.5412C5.40655 17.9269 4.54913 17.3039 4.68924 16.487L5.4266 12.1878L2.30308 9.14317C1.70956 8.56463 2.03708 7.55666 2.8573 7.43748L7.17389 6.81024L9.10433 2.89874Z" fill="#212121"/></svg></i>Rate</span><span class="btn is-small is-primary"><i class='fa-play'><svg fill='currentColor' viewBox='0 0 512 512' role="presentation"><path d='M133,440a35.37,35.37,0,0,1-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37,7.46-27.53,19.46-34.33a35.13,35.13,0,0,1,35.77.45L399.12,225.48a36,36,0,0,1,0,61L151.23,434.88A35.5,35.5,0,0,1,133,440Z'/></svg></i>View details</span></div><div class="avgSC" data-rating-id="${s}"><svg viewBox="0 0 20 20" role="presentation"><path d="M9.10433 2.89874C9.47114 2.15549 10.531 2.1555 10.8978 2.89874L12.8282 6.81024L17.1448 7.43748C17.9651 7.55666 18.2926 8.56464 17.699 9.14317L14.5755 12.1878L15.3129 16.487C15.453 17.3039 14.5956 17.9269 13.8619 17.5412L10.0011 15.5114L6.14018 17.5412C5.40655 17.9269 4.54913 17.3039 4.68924 16.487L5.4266 12.1878L2.30308 9.14317C1.70956 8.56463 2.03708 7.55666 2.8573 7.43748L7.17389 6.81024L9.10433 2.89874Z"></path></svg><span class="b average-update" data-text="0.0"></span></div></div><div class="ipstBD"><h3 class="ipstT"><a href="${i}">${t}</a></h3>${n?`<div class="isptYrs"><span>${n}</span></div>`:""}</div></div></li>`}));const i=`<div class="splide__track"><ul class="splide__list">${a}</ul></div>`;e.innerHTML=i,e.classList.add("splide"),e.classList.remove("bs-feed");const l=new Splide("#tab-series",{type:"slide",perPage:5,gap:"1rem",pagination:!1,arrows:!1,mediaQuery:"min",breakpoints:{1100:{perPage:5},980:{perPage:4},680:{perPage:3},0:{perPage:2}}}).mount(),n=document.querySelector(".act-btn.series .prev-btn"),r=document.querySelector(".act-btn.series .next-btn");n&&n.addEventListener("click",(()=>l.go("<"))),r&&r.addEventListener("click",(()=>l.go(">")))})).catch((e=>console.error("Error fetching posts:",e)))}();
!function(){const e=document.getElementById("tab-movies");if(!e)return void console.error("Container with id 'tab-movies' not found.");const t=e.getAttribute("data-fetch-type");fetch(`/feeds/posts/default/-/${t}?alt=json&max-results=10&orderby=published`).then((e=>e.json())).then((t=>{const s=t.feed&&t.feed.entry||[];let a="";s.forEach((e=>{let t=e.title&&e.title.$t||"Untitled";t=t.replace(/"([^"]*)"/g,"“$1”");const s=e.link&&e.link.find((e=>"alternate"===e.rel))?.href||"#";const i=function(e){const t=e.split(".post-");return t.length>1?t[1]:e}(e.id.$t||"");let n=e.media$thumbnail&&e.media$thumbnail.url||"https://cdn.flickmint.com/s300_450.png";n=function(e){return e.replace(/.*?:\/\//g,"//").replace(/\/[w,s][0-9][0-9].*\//g,"/w300-h450-c-rw/").replace(/=s72-[w,c].*/g,"=s450")}(n);let l="";if(e.category)for(let t=0;t<e.category.length;t++){const s=e.category[t].term,a=parseInt(s,10);if(!isNaN(a)&&a>=1950&&a<=2035){l=a;break}}a+=`<li class="splide__slide"><div class="ipst"><div class="ipstI"><a href="${s}" title="${t}"><img alt="${t}" loading="lazy" src="${n}" width="100%"/></a><div class="ipstBk"><span class="avg-score is-small"><i class="fa-star"><svg fill="none" viewBox="0 0 20 20" role="presentation"><path d="M9.10433 2.89874C9.47114 2.15549 10.531 2.1555 10.8978 2.89874L12.8282 6.81024L17.1448 7.43748C17.9651 7.55666 18.2926 8.56464 17.699 9.14317L14.5755 12.1878L15.3129 16.487C15.453 17.3039 14.5956 17.9269 13.8619 17.5412L10.0011 15.5114L6.14018 17.5412C5.40655 17.9269 4.54913 17.3039 4.68924 16.487L5.4266 12.1878L2.30308 9.14317C1.70956 8.56463 2.03708 7.55666 2.8573 7.43748L7.17389 6.81024L9.10433 2.89874Z" fill="#212121"/></svg></i>Rate</span><span class="btn is-small is-primary"><i class='fa-play'><svg fill='currentColor' viewBox='0 0 512 512' role="presentation"><path d='M133,440a35.37,35.37,0,0,1-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37,7.46-27.53,19.46-34.33a35.13,35.13,0,0,1,35.77.45L399.12,225.48a36,36,0,0,1,0,61L151.23,434.88A35.5,35.5,0,0,1,133,440Z'/></svg></i>View details</span></div><div class="avgSC" data-rating-id="${i}"><svg viewBox="0 0 20 20" role="presentation"><path d="M9.10433 2.89874C9.47114 2.15549 10.531 2.1555 10.8978 2.89874L12.8282 6.81024L17.1448 7.43748C17.9651 7.55666 18.2926 8.56464 17.699 9.14317L14.5755 12.1878L15.3129 16.487C15.453 17.3039 14.5956 17.9269 13.8619 17.5412L10.0011 15.5114L6.14018 17.5412C5.40655 17.9269 4.54913 17.3039 4.68924 16.487L5.4266 12.1878L2.30308 9.14317C1.70956 8.56463 2.03708 7.55666 2.8573 7.43748L7.17389 6.81024L9.10433 2.89874Z"></path></svg><span class="b average-update" data-text="0.0"></span></div></div><div class="ipstBD"><h3 class="ipstT"><a href="${s}">${t}</a></h3>${l?`<div class="isptYrs"><span>${l}</span></div>`:""}</div></div></li>`}));const i=`<div class="splide__track"><ul class="splide__list">${a}</ul></div>`;e.innerHTML=i,e.classList.add("splide"),e.classList.remove("bs-feed");const n=new Splide("#tab-movies",{type:"slide",perPage:5,gap:"1rem",pagination:!1,arrows:!1,mediaQuery:"min",breakpoints:{1100:{perPage:5},980:{perPage:4},680:{perPage:3},0:{perPage:2}}}).mount(),l=document.querySelector(".act-btn.movies .prev-btn"),r=document.querySelector(".act-btn.movies .next-btn");l&&l.addEventListener("click",(()=>n.go("<"))),r&&r.addEventListener("click",(()=>n.go(">")))})).catch((e=>console.error("Error fetching posts:",e)))}();
!function(){const e=document.getElementById("tab-people");if(!e)return void console.error("Container with id 'tab-people' not found.");const t=e.getAttribute("data-fetch-type");fetch(`/feeds/posts/default/-/${t}?alt=json&max-results=10&orderby=published`).then((e=>e.json())).then((t=>{const l=t.feed&&t.feed.entry||[];let r="";l.forEach((e=>{const t=e.title&&e.title.$t?e.title.$t:"No Title Available",l=e.link&&e.link.find((e=>"alternate"===e.rel))?.href||"#";let a=e.media$thumbnail&&e.media$thumbnail.url||"https://cdn.flickmint.com/s500_500.png";a=function(e){return e.replace(/.*?:\/\//g,"//").replace(/\/[w,s][0-9][0-9].*\//g,"/w300-h300-c-rw/").replace(/=s72-[w,c].*/g,"=w300-h300-c-rw")}(a);let n=null,s=null,i=null;e.category&&Array.isArray(e.category)&&e.category.forEach((e=>{const t=e.term,l=parseInt(t,10);if(isNaN(l)){["January","February","March","April","May","June","July","August","September","October","November","December"].includes(t)&&null===s&&(s=t)}else l>=1&&l<=31&&null===n?n=l:l>=1950&&l<=2035&&null===i&&(i=l)}));let c="NA";null!==n&&null!==s&&null!==i&&(c=function(e,t,l){const r=["January","February","March","April","May","June","July","August","September","October","November","December"].indexOf(t);if(-1===r)return"NA";const a=new Date(l,r,e),n=new Date;let s=n.getFullYear()-a.getFullYear();const i=n.getMonth()-a.getMonth();return(i<0||0===i&&n.getDate()<a.getDate())&&s--,s}(n,s,i)),r+=`<li class="splide__slide"><div class="ipst"><div class="ipstI"><a href="${l}" title="${t}"><img alt="${t}" loading="lazy" src="${a}" width="100%"/></a></div><div class="ipstBD"><h3 class="ipstT"><a href="${l}">${t}</a></h3><h4 class="ipstAge"><span>${c}</span></h4></div></div></li>`}));const a=`<div class="splide__track"><ul class="splide__list">${r}</ul></div>`;e.innerHTML=a,e.classList.add("splide"),e.classList.remove("bs-feed");const n=new Splide("#tab-people",{type:"slide",perPage:6,gap:"1rem",pagination:!1,arrows:!1,mediaQuery:"min",breakpoints:{1100:{perPage:6},980:{perPage:5},900:{perPage:5},680:{perPage:4},350:{perPage:3},0:{perPage:2}}}).mount(),s=document.querySelector(".act-btn.actors .prev-btn"),i=document.querySelector(".act-btn.actors .next-btn");s&&s.addEventListener("click",(()=>n.go("<"))),i&&i.addEventListener("click",(()=>n.go(">")))})).catch((e=>console.error("Error fetching posts:",e)))}();
!function(){const e=document.getElementById("tab-news");if(!e)return void console.error("Container with id 'tab-news' not found.");const t=e.getAttribute("data-fetch-type");const s={seconds:"few seconds",minute:"a minute",minutes:"%d minutes",hour:"an hour",hours:"%d hours",day:"a day",days:"%d days",month:"a month",months:"%d months",year:"a year",years:"%d years"};fetch(`/feeds/posts/default/-/${t}?alt=json&max-results=10&orderby=published`).then((e=>e.json())).then((t=>{const a=t.feed&&t.feed.entry||[];let n="";a.forEach((e=>{const t=(e.content?e.content.$t:"").match(/data-title="([^"]+)"/),a=t?t[1]:e.title?.$t||"No Title Available",o=e.link.find((e=>"alternate"===e.rel))?.href||"#";let r=e.media$thumbnail?.url||"https://cdn.flickmint.com/s500_300.png";r=function(e){return e.replace(/.*?:\/\//g,"//").replace(/\/[w,s][0-9][0-9].*\//g,"/w512-h228-c-rw/").replace(/=s72-[w,c].*/g,"=w512-h228-c-rw")}(r);const i=e.author&&e.author[0]&&e.author[0].name&&e.author[0].name.$t||"Unknown Writer",l=e.published?.$t?function(e){const t=Date.now(),a=Math.floor((t-e.getTime())/1e3),n=Math.floor(a/60),o=Math.floor(n/60),r=Math.floor(o/24),i=Math.floor(r/30),l=Math.floor(r/365);let c,d;a<60?(c="seconds",d=a):n<2?(c="minute",d=1):n<60?(c="minutes",d=n):o<2?(c="hour",d=1):o<24?(c="hours",d=o):r<2?(c="day",d=1):r<30?(c="days",d=r):i<2?(c="month",d=1):i<12?(c="months",d=i):l<2?(c="year",d=1):(c="years",d=l);const h=s[c];return`${h.includes("%d")?h.replace("%d",d):h} ago`}(new Date(e.published.$t)):"NA";n+=`<li class="splide__slide"><div class="ipst"><div class="ipstI"><a href="${o}" title="${a}"><img alt="${a}" loading="lazy" src="${r}" width="100%"/></a></div><div class="ipstBD"><h3 class="ipstT"><a href="${o}">${a}</a></h3><h4 class="ipstNI"><span class="wNm">${i}</span><span class="wTm">${l}</span></h4></div></div></li>`})),e.innerHTML=`<div class="splide__track"><ul class="splide__list">${n}</ul></div>`,e.classList.add("splide"),e.classList.remove("bs-feed");const o=new Splide("#tab-news",{type:"slide",perPage:4,gap:"1rem",pagination:!1,arrows:!1,mediaQuery:"min",breakpoints:{1100:{perPage:4},980:{perPage:3},380:{perPage:2},0:{perPage:1}}}).mount();document.querySelector(".act-btn.news .prev-btn")?.addEventListener("click",(()=>o.go("<"))),document.querySelector(".act-btn.news .next-btn")?.addEventListener("click",(()=>o.go(">")))})).catch((e=>console.error("Error fetching posts:",e)))}();
