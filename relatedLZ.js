!function(){const e=document.querySelector("[data-content-type]");if(!e)return;const t=e.getAttribute("data-content-type");let n="",r="",o="";document.querySelectorAll(".deTR").forEach((e=>{const t=e.querySelector(".deTC.name"),a=e.querySelector(".deTC:not(.name)");if(t&&a){const e=t.textContent.trim(),i=a.textContent.trim();"Language"===e?n=i:"Production company"===e?r=i:"Country of origin"===e&&(o=i)}}));const a=[];t&&a.push(encodeURIComponent(t)),n&&a.push(encodeURIComponent(n)),r&&a.push(encodeURIComponent(r)),o&&a.push(encodeURIComponent(o));const i=a.join("+"),l=[];t&&l.push(encodeURIComponent(t)),n&&l.push(encodeURIComponent(n)),r&&l.push(encodeURIComponent(r));const s=l.join("+"),c=o?encodeURIComponent(t)+"+"+encodeURIComponent(n)+"+"+encodeURIComponent(o):null,d=[];t&&d.push(encodeURIComponent(t)),n&&d.push(encodeURIComponent(n));const u=d.join("+");function h(e){return fetch(`/feeds/posts/summary?max-results=99&q=${e}&alt=json`).then((e=>e.json())).then((e=>e.feed&&e.feed.entry?e.feed.entry:[])).catch((t=>(console.error(`Error fetching query "${e}":`,t),[])))}function p(e){let t="";if(e.id&&e.id.$t){const n=e.id.$t.split("post-");n.length>1&&(t=n[1])}return t}const m=document.querySelector("[data-fetch-id]"),f=m?m.getAttribute("data-fetch-id"):null;h(i).then((e=>{if(e.length>1)return e;if(1===e.length){return p(e[0])===f?h(s).then((e=>{if(0===e.length)return c?h(c).then((e=>{if(0===e.length)return h(u);if(1===e.length){return p(e[0])===f?h(u):e}return e})):h(u);if(1===e.length){return p(e[0])===f?c?h(c).then((e=>{if(0===e.length)return h(u);if(1===e.length){return p(e[0])===f?h(u):e}return e})):h(u):e}return e})):e}return h(s).then((e=>{if(0===e.length)return c?h(c).then((e=>{if(0===e.length)return h(u);if(1===e.length){return p(e[0])===f?h(u):e}return e})):h(u);if(1===e.length){return p(e[0])===f?c?h(c).then((e=>{if(0===e.length)return h(u);if(1===e.length){return p(e[0])===f?h(u):e}return e})):h(u):e}return e}))})).then((e=>{!function(e){const n=document.querySelector(".rel.loadR");if(n){if(n.innerHTML="",!e.length)return n.innerHTML='<div class="f fdc gap-10 ai-c jc-c nItm"><div class="nItmSvg"><svg viewBox="0 0 24 24" role="presentation"><path d="M15.728 14.443a.91.91 0 0 1-1.286 1.286 3.433 3.433 0 0 0-2.443-1.012c-.923 0-1.79.359-2.443 1.012a.909.909 0 1 1-1.286-1.286 5.237 5.237 0 0 1 3.728-1.544 5.234 5.234 0 0 1 3.73 1.544zm-6.75-3.526c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.222 1.222 0 0 0-.857-.355c-.319 0-.631.13-.857.355-.225.226-.355.539-.355.857s.13.632.355.857c.225.225.538.355.857.355s.632-.129.857-.355zm6.901-2.069c-.319 0-.631.13-.857.355-.226.226-.355.538-.355.857s.129.632.355.857c.226.225.538.355.857.355s.632-.13.857-.355c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.224 1.224 0 0 0-.857-.355zM22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0z"></path></svg></div><div class="nItmTxt">No relevant results were found in our database, sorry!</div></div>',n.classList.remove("loadR"),void n.classList.add("loadedR");for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}(e=e.slice(0,10)).forEach((e=>{const r=e.title&&e.title.$t?e.title.$t:"No Title";let o="";o=e.media$thumbnail&&e.media$thumbnail.url?e.media$thumbnail.url.replace(/.*?:\/\//g,"//").replace(/\/[w,s][0-9][0-9].*\//g,"/w300-h450-c-rw/").replace(/=s72-[w,c].*/g,"=s450"):"https://cdn.flickmint.com/s300_450.png";let a=[];e.category&&Array.isArray(e.category)&&e.category.forEach((e=>{e.term&&a.push(e.term)}));const i=["Action","Adventure","Animation","Anime","Biography","Comedy","Crime","Documentary","Drama","Family","Fantasy","Film-Noir","History","Erotic","Horror","Music","Musical","Mystery","Court","Reality-TV","Romance","Sci-Fi","Short","Sport","Talk-Show","Thriller","War","Western","Superhero","Psychological","Parody","Teen","Survival","Slice of Life","Martial Arts","Supernatural","Political","Heist","Legal","Medical","Period Drama","Coming-of-Age","Anthology","Dark Comedy","Satire","Cyberpunk","Steampunk","Post-Apocalyptic","Time Travel","Space","Mecha","Zombie","Vampire","Werewolf","Mythological","Tragedy"],l=["G","PG","PG-13","R","NC-17","TV-G","TV-PG","TV-14","TV-MA","U","U/A","U/A 15","U/A 16+","A","S","12A","15+","18+","R18","PG-12","R15+","R18+","전체관람가","12+","19+","제한상영가","L","10+","14+","16+","0+","6+","M","MA15+","X18+","RC","R13","R16","RP13","RP16","SU","13+","17+","21+","P13","20+","X","Not Rated","Unrated","Banned"],s=[];for(let e=1;e<60;e++)s.push(`${e}min`);for(let e=1;e<4;e++)for(let t=0;t<60;t++)0===t?s.push(`${e}hr`):s.push(`${e}hr ${t}min`);let c=[],d=[],u=[];a.forEach((e=>{e!==t&&(i.includes(e)?c.push(e):l.includes(e)?d.push(e):s.includes(e)&&u.push(e))}));let h="";c.length>0&&(h=c.map((e=>`<a href="/search/label/${encodeURIComponent(e)}">${e}</a>`)).join(", "));const m=d.length>0?d.join(", "):"NA",f=u.length>0?u.join(", "):"NA",g=p(e);let y="";if(e.link&&Array.isArray(e.link)){const t=e.link.find((e=>"alternate"===e.rel));t&&t.href&&(y=t.href)}const v=`<div class="relItm"><div class="relL"><div class="relImg"><img src="${o}" alt="${r}" loading="lazy"/></div></div><div class="relR"><div class="relHead"><h3>${r}</h3></div><div class="relRD"><span class="contenR">${m}</span><span class="fDur">${f}</span></div><div class="avgSC aF" data-rating-id="${g}" data-text="/ 10"><svg viewBox="0 0 20 20" role="presentation"><path d="M9.10433 2.89874C9.47114 2.15549 10.531 2.1555 10.8978 2.89874L12.8282 6.81024L17.1448 7.43748C17.9651 7.55666 18.2926 8.56464 17.699 9.14317L14.5755 12.1878L15.3129 16.487C15.453 17.3039 14.5956 17.9269 13.8619 17.5412L10.0011 15.5114L6.14018 17.5412C5.40655 17.9269 4.54913 17.3039 4.68924 16.487L5.4266 12.1878L2.30308 9.14317C1.70956 8.56463 2.03708 7.55666 2.8573 7.43748L7.17389 6.81024L9.10433 2.89874Z"></path></svg><span class="b average-update" data-text="0.0"></span></div><div class="relCatg"><span class="catG">${h}</span></div></div><a class="relPL" title="${r}" href="${y}"></a></div>`;n.insertAdjacentHTML("beforeend",v)})),n.classList.remove("loadR"),n.classList.add("loadedR")}}(e=e.filter((e=>{if(p(e)===f)return!1;const t=(e.category||[]).map((e=>e.term));return!t.includes("People")&&!t.includes("News")})))})).catch((e=>console.error("Error in loading:",e)))}();
!function(){if(!document.querySelector(".peopleT"))return;const e=document.querySelector(".aPCon");if(!e)return;const t=e.querySelector(".hWork .cB"),n=e.querySelector(".contrY");if(!t||!n)return;const l=t.textContent.trim(),r=n.dataset.text,a=document.querySelector("[data-fetch-id]"),o=a?a.getAttribute("data-fetch-id"):"";async function c(e){try{const t=await fetch(e),n=await t.json();return n.feed&&n.feed.entry||[]}catch(e){return console.error("Error fetching posts:",e),[]}}!async function(){const e=`/feeds/posts/summary/-/People/${encodeURIComponent(l)}/${encodeURIComponent(r)}?alt=json`;let t=await c(e);if(t=t.filter((e=>!(e.id&&e.id.$t&&-1!==e.id.$t.indexOf(o)))),0===t.length){const e=`/feeds/posts/summary/-/People/${encodeURIComponent(l)}?alt=json`;t=await c(e),t=t.filter((e=>!(e.id&&e.id.$t&&-1!==e.id.$t.indexOf(o))))}if(0===t.length){const e=document.querySelector(".mlP.load");return void(e&&(e.classList.remove("load"),e.classList.add("loaded"),e.setAttribute("data-found-people","0"),e.innerHTML="Nothing Found..."))}t.length>50&&(t=t.slice(0,50)),t=function(e,t){const n=e.slice();for(let e=n.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[n[e],n[t]]=[n[t],n[e]]}return n.slice(0,t)}(t,8);let n='<div class="morePpl">';t.forEach((e=>{const t=e.title&&e.title.$t?e.title.$t:"No Title Available",l=e.link&&e.link.find((e=>"alternate"===e.rel))?.href||"#";let r=e.media$thumbnail&&e.media$thumbnail.url||"https://cdn.flickmint.com/s300_450.png";r=r.replace(/.*?:\/\//g,"//").replace(/\/[w,s][0-9][0-9].*\//g,"/w300-h450-c-rw/").replace(/=s72-[w,c].*/g,"=s450");let a=null,o=null,c=null;e.category&&Array.isArray(e.category)&&e.category.forEach((e=>{const t=e.term,n=parseInt(t,10);if(isNaN(n)){["January","February","March","April","May","June","July","August","September","October","November","December"].includes(t)&&null===o&&(o=t)}else n>=1&&n<=31&&null===a?a=n:n>=1950&&n<=2035&&null===c&&(c=n)}));let i="NA";null!==a&&null!==o&&null!==c&&(i=function(e,t,n){const l=["January","February","March","April","May","June","July","August","September","October","November","December"].indexOf(t);if(-1===l)return"NA";const r=new Date(n,l,e),a=new Date;let o=a.getFullYear()-r.getFullYear();const c=a.getMonth()-r.getMonth();return(c<0||0===c&&a.getDate()<r.getDate())&&o--,o}(a,o,c));n+=`<div class="pFItm"><div class="pFL"><div class="pFImg"><img src="${r}" alt="${t}" loading="lazy"/></div></div><div class="pFR"><div class="pFName"><h3>${t}</h3></div><div class="pFDOB"><span>${a&&o&&c?`${o} ${a}, ${c}`:"Not Known"}</span></div><div class="pFAge"><span>${i}</span></div></div><a class="lnkAb" title="${t}" href="${l}"></a></div>`})),n+="</div>";const a=document.querySelector(".mlP.loadR");a&&(a.outerHTML=`<div class="mlP loadedR" data-found-people="${t.length}">${n}</div>`)}()}();
!function(){if(!document.querySelector(".newsT"))return;function e(e){var t=e.match(/\.post-(.+)$/);return t?t[1]:e}function t(t,n){const s=document.createElement("ol");s.className="f fdc gap-21 fNws",s.setAttribute("data-news-found",t.length),t.filter((t=>e(t.id.$t||"")!==n)).slice(0,10).forEach((t=>{const n=e(t.id.$t||""),a=t.title.$t||"",c=(l=t.published.$t||"",new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}));var l;const o=t.link&&t.link.find((e=>"alternate"===e.rel))?.href||"#",r=t.media$thumbnail&&t.media$thumbnail.url?t.media$thumbnail.url:"https://cdn.flickmint.com/s500_300.png";const i=`<li class="f fdc ai-c gap-14" data-news-post="${n}"><div class="nImg"><img src="${r?r.replace(/.*?:\/\//g,"//").replace(/\/[w,s][0-9][0-9].*\//g,"/w300-h450-c-rw/").replace(/=s72-[w,c].*/g,"=s450"):""}" alt="${a}"/></div><div class="f fdc gap-5 nData"><div class="nTitle"><h3>${a}</h3></div><div class="nDate"><span>${c}</span></div></div><a class="lnkAb" title="${a}" href="${o}"></a></li>`;s.insertAdjacentHTML("beforeend",i)}));const a=document.querySelector(".rNws");a&&(a.classList.remove("loadR"),a.classList.add("loadedR"),a.innerHTML="",a.appendChild(s))}const n=document.querySelector("[data-fetch-id]"),s=n?n.getAttribute("data-fetch-id"):null,a=document.querySelector(".nwsCont"),c=a&&a.getAttribute("data-text");!function e(n,s,a){fetch(n).then((e=>e.json())).then((n=>{const c=n.feed&&n.feed.entry;c&&0!==c.length?s&&c.length<=1?e("/feeds/posts/summary/-/News?max-results=99&alt=json",!1,a):t(c,a):console.warn("No news entries found.")})).catch((e=>{console.error("Error fetching the news feed:",e)}))}(c?`/feeds/posts/summary/-/News/${encodeURIComponent(c)}?max-results=99&alt=json`:"/feeds/posts/summary/-/News?max-results=99&alt=json",Boolean(c),s)}();
!function(){const e=document.querySelector(".post");if(!e)return;const s=e.querySelector("[data-content-type]");if(!s)return;const t=s.dataset.contentType;if(!["Series","Movie","People"].includes(t))return;const r="https://cdn.flickmint.com/s300_450.png";fetch("https://raw.githubusercontent.com/flickmint/post-trending/main/top-views.json").then((e=>{if(!e.ok)throw new Error("Network error");return e.json()})).then((e=>{const a=e.filter((e=>e.post_type===t)).sort(((e,s)=>e.post_rank-s.post_rank)),c=s.querySelector(".relT");c&&(c.innerHTML="",c.classList.remove("loadR"),a.forEach((e=>{const s=(t=e.post_image)?t.replace(/.*?:\/\//g,"//").replace(/\/[w,s][0-9][0-9].*\//g,"/w300-h450-c-rw/").replace(/=s72-[w,c].*/g,"=s450"):r;var t;const a=function(e){const s=Number(e),t=Math.sign(s),r=Math.abs(s);return r>=1e9?`${(t*(r/1e9)).toFixed(2)}B`:r>=1e6?`${(t*(r/1e6)).toFixed(2)}M`:r>=1e3?`${(t*(r/1e3)).toFixed(2)}K`:`${s}`}(e.post_views),n=`<div class="relItm"><div class="relL"><div class="relImg"><img src="${s}" alt="${e.post_name}" loading="lazy" onerror="this.onerror=null;this.src='${r}';" /></div></div><div class="relR"><div class="relTop"><span class="indexV"># TOP ${e.post_rank}</span><span class="viewsV aF" data-text="views"><i class="fire-flame"><svg viewBox="0 0 384 512"><path d="M384 319.1C384 425.9 297.9 512 192 512s-192-86.13-192-192c0-58.67 27.82-106.8 54.57-134.1C69.54 169.3 96 179.8 96 201.5v85.5c0 35.17 27.97 64.5 63.16 64.94C194.9 352.5 224 323.6 224 288c0-88-175.1-96.12-52.15-277.2c13.5-19.72 44.15-10.77 44.15 13.03C215.1 127 384 149.7 384 319.1z"></path></svg></i>${a}</span></div><div class="relHead"><h3>${e.post_name}</h3></div><div class="relCatg cuN"><span class="catG"><svg role="presentation" viewBox="0 0 16 16"><path d="M8.152 16H8a8 8 0 1 1 .152 0zm-.41-14.202c-.226.273-.463.713-.677 1.323-.369 1.055-.626 2.496-.687 4.129h3.547c-.06-1.633-.318-3.074-.687-4.129-.213-.61-.45-1.05-.676-1.323-.194-.235-.326-.285-.385-.296h-.044c-.055.007-.19.052-.391.296zM4.877 7.25c.062-1.771.34-3.386.773-4.624.099-.284.208-.554.329-.806a6.507 6.507 0 0 0-4.436 5.43h3.334zm-3.334 1.5a6.507 6.507 0 0 0 4.436 5.43 7.974 7.974 0 0 1-.33-.806c-.433-1.238-.71-2.853-.772-4.624H1.543zm4.835 0c.061 1.633.318 3.074.687 4.129.214.61.451 1.05.677 1.323.202.244.336.29.391.297l.044-.001c.06-.01.19-.061.385-.296.226-.273.463-.713.676-1.323.37-1.055.626-2.496.687-4.129H6.378zm5.048 0c-.061 1.771-.339 3.386-.772 4.624-.082.235-.171.46-.268.674a6.506 6.506 0 0 0 4.071-5.298h-3.03zm3.031-1.5a6.507 6.507 0 0 0-4.071-5.298c.097.214.186.44.268.674.433 1.238.711 2.853.772 4.624h3.031z"></path></svg></span><span class="catCU">${e.post_country}</span></div></div><a class="relPL" title="${e.post_name}" href="${e.post_url}"></a></div>`;c.insertAdjacentHTML("beforeend",n)})),c.classList.add("isLoaded"))})).catch((e=>console.error("Trending fetch error:",e)))}();
