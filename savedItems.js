!function(){var e=JSON.parse(localStorage.getItem("watchList"))||[];function t(){localStorage.setItem("watchList",JSON.stringify(e))}function s(){const c=document.querySelector(".svdList");if(!c)return;if(c.innerHTML="",Array.isArray(e)&&e.length>0){c.insertAdjacentHTML("beforeend",'<div class="searchItm"><input type="search" class="svdSearch" id="SearchItem" placeholder="Search saved items"/><label class="f ai-c jc-c op-7 b ba" for="SearchItem">\n<svg class="line px-18" viewBox="0 0 24 24" role="presentation"><path d="M11.5 21C16.7467 21 21 16.7467 21 11.5C21 6.25329 16.7467 2 11.5 2C6.25329 2 2 6.25329 2 11.5C2 16.7467 6.25329 21 11.5 21Z"></path><path d="M22 22L20 20"></path></svg></label></div>');let t="<ol>";[...e].reverse().forEach(e=>{t+=`<li data-item-id="${e.id}"><div class="f ai-c svItm"><div class="svLeft"><div class="svImg"><img src="${e.image}" loading="lazy" alt="${e.title}"></div></div><div class="f ai-c jc-sb w100 gap-5 svRight"><div class="f fdc"><div class="svHead"><h3>${e.title}</h3></div><div class="avgSC aF" data-rating-id="${e.id}" data-text="/ 10"><svg viewBox="0 0 20 20" role="presentation"><path d="M9.10433 2.89874C9.47114 2.15549 10.531 2.1555 10.8978 2.89874L12.8282 6.81024L17.1448 7.43748C17.9651 7.55666 18.2926 8.56464 17.699 9.14317L14.5755 12.1878L15.3129 16.487C15.453 17.3039 14.5956 17.9269 13.8619 17.5412L10.0011 15.5114L6.14018 17.5412C5.40655 17.9269 4.54913 17.3039 4.68924 16.487L5.4266 12.1878L2.30308 9.14317C1.70956 8.56463 2.03708 7.55666 2.8573 7.43748L7.17389 6.81024L9.10433 2.89874Z"></path></svg><span class="b average-update" data-text="0.0"></span></div><div class="svTyp"><span class="catG"><a href="/search/label/${e.type}">${e.type}</a></span></div></div><div class="clearItmS"><button type="button" aria-label="Delete" class="delS" type="button"><svg class="line px-22" viewBox="0 0 24 24" role="presentation"><path d="M21 5.97998C17.67 5.64998 14.32 5.47998 10.98 5.47998C9 5.47998 7.02 5.57998 5.04 5.77998L3 5.97998"></path><path d="M8.5 4.97L8.72 3.66C8.88 2.71 9 2 10.69 2H13.31C15 2 15.13 2.75 15.28 3.67L15.5 4.97"></path><path d="M18.85 9.14001L18.2 19.21C18.09 20.78 18 22 15.21 22H8.79002C6.00002 22 5.91002 20.78 5.80002 19.21L5.15002 9.14001"></path><path d="M10.33 16.5H13.66"></path><path d="M9.5 12.5H14.5"></path></svg></button></div></div><a class="lnkAb" title="${e.title}" href="${e.url}"></a></div></li>`}),t+="</ol>",c.insertAdjacentHTML("beforeend",t)}else c.insertAdjacentHTML("afterbegin",'<div class="f fdc gap-10 ai-c jc-c nItm"><div class="nItmSvg"><svg viewBox="0 0 24 24" role="presentation"><path d="M15.728 14.443a.91.91 0 0 1-1.286 1.286 3.433 3.433 0 0 0-2.443-1.012c-.923 0-1.79.359-2.443 1.012a.909.909 0 1 1-1.286-1.286 5.237 5.237 0 0 1 3.728-1.544 5.234 5.234 0 0 1 3.73 1.544zm-6.75-3.526c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.222 1.222 0 0 0-.857-.355c-.319 0-.631.13-.857.355-.225.226-.355.539-.355.857s.13.632.355.857c.225.225.538.355.857.355s.632-.129.857-.355zm6.901-2.069c-.319 0-.631.13-.857.355-.226.226-.355.538-.355.857s.129.632.355.857c.226.225.538.355.857.355s.632-.13.857-.355c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.224 1.224 0 0 0-.857-.355zM22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0z"></path></svg></div><div class="nItmTxt">You have nothing added yet!</div></div>');const o=c.querySelector(".svdSearch");o&&o.addEventListener("input",function(e){const t=e.target.value.toLowerCase(),s=c.querySelectorAll("ol li");let a=!1;s.forEach(function(e){const s=e.querySelector(".svHead h3"),c=s?s.textContent.toLowerCase():"";""===t||c.includes(t)?(e.classList.remove("hidden"),a=!0):e.classList.add("hidden")});const o=c.querySelector(".nItm");o&&o.remove(),a||c.insertAdjacentHTML("beforeend",'<div class="f fdc gap-10 ai-c jc-c nItm"><div class="nItmSvg"><svg viewBox="0 0 24 24" role="presentation"><path d="M15.728 14.443a.91.91 0 0 1-1.286 1.286 3.433 3.433 0 0 0-2.443-1.012c-.923 0-1.79.359-2.443 1.012a.909.909 0 1 1-1.286-1.286 5.237 5.237 0 0 1 3.728-1.544 5.234 5.234 0 0 1 3.73 1.544zm-6.75-3.526c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.222 1.222 0 0 0-.857-.355c-.319 0-.631.13-.857.355-.225.226-.355.539-.355.857s.13.632.355.857c.225.225.538.355.857.355s.632-.129.857-.355zm6.901-2.069c-.319 0-.631.13-.857.355-.226.226-.355.538-.355.857s.129.632.355.857c.226.225.538.355.857.355s.632-.13.857-.355c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.224 1.224 0 0 0-.857-.355zM22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0z"></path></svg></div><div class="nItmTxt">No matching series or movie saved!</div></div>')}),c.querySelectorAll(".delS").forEach(function(c){c.addEventListener("click",function(o){o.stopPropagation();const d=c.closest("li");if(!d)return;const i=d.getAttribute("data-item-id");var n;n=i,e=e.filter(function(e){return e.id!==n}),t(),d.remove(),s(),a(),toastNotif.delete("Removed from list!")})})}function a(){document.querySelectorAll(".svBtn").forEach(function(t){var s=t.getAttribute("data-list-id");e.some(e=>e.id===s)?(t.classList.add("added"),t.classList.remove("not-added")):(t.classList.remove("added"),t.classList.add("not-added"))})}function c(){document.querySelectorAll(".svBtn").forEach(function(a){!function(t){return e.some(function(e){return e.id===t})}(a.getAttribute("data-list-id"))?(a.classList.add("not-added"),a.classList.remove("added")):(a.classList.add("added"),a.classList.remove("not-added")),a.addEventListener("click",function(){if("true"!==document.documentElement.getAttribute("data-is-incognito")){var c,o=a.getAttribute("data-list-id");a.classList.contains("not-added")?(toastNotif.success("Added to list!"),function(s,a){var c=document.querySelector(".hHead h1"),o="";if(c){const e=c.querySelectorAll("span");e.length>0&&(o=e[0].textContent.trim())}var d=document.querySelector("span.imgC"),i="";d&&(i=d.style.backgroundImage.replace(/url\((['"])?(.*?)\1\)/,"$2"));var n=document.querySelector("div.hMST .cB"),r={id:s,title:o,image:i,type:n?n.textContent.trim():"",url:a.getAttribute("data-list-item-url")||"",addedAT:(new Date).toISOString()};e.push(r),t()}(o,a),a.classList.remove("not-added"),a.classList.add("added"),s()):a.classList.contains("added")&&(toastNotif.delete("Removed from list!"),c=o,e=e.filter(function(e){return e.id!==c}),t(),a.classList.remove("added"),a.classList.add("not-added"),s())}else toastNotif.error("Not allowed in incognito mode...")})})}function o(){const e=document.documentElement,t=document.querySelector(".svdBox"),s=document.getElementById("save-menu");e.classList.remove("saved-open"),t&&t.classList.remove("active"),s&&s.classList.remove("active")}const d=document.querySelector(".svdClear");d&&d.addEventListener("click",c=>{if(c.stopPropagation(),document.querySelector(".confirmPopup"))return;const o=document.createElement("div");o.className="f ai-c jc-c p16 confirmPopup",o.innerHTML='<div class="popupContent"><p>Are you sure to clear?</p><div class="f jc-c gap-30 popupActions"><button class="btn confirmYes">Yes</button><button class="btn confirmNo">No</button></div></div>',document.body.appendChild(o),o.querySelector(".confirmYes").addEventListener("click",()=>{window.paceLoader.animate();try{const c=document.querySelector(".svdList");if(c){const o=c.querySelector("ol");o&&o.remove(),e=[],t(),s(),a()}toastNotif.success("Cleared"),window.paceLoader.remove(),o.remove()}catch(e){console.error(e),toastNotif.error("Something went wrong!")}}),o.querySelector(".confirmNo").addEventListener("click",()=>{o.remove()})});const i=document.getElementById("svdClose");i&&i.addEventListener("click",e=>{e.stopPropagation(),o()}),document.addEventListener("click",function(e){const t=document.querySelector(".svdBox"),s=document.getElementById("save-menu");t&&!t.contains(e.target)&&s&&!s.contains(e.target)&&o()}),window.buildSavedList=s,window.watchListFetch=c,s(),c(),function(){const e=document.getElementById("save-menu");e&&e.addEventListener("click",t=>{t.stopPropagation();const s=document.documentElement,a=document.querySelector(".svdBox");s.classList.contains("saved-open")?(s.classList.remove("saved-open"),a&&a.classList.remove("active"),e.classList.remove("active")):(s.classList.add("saved-open"),a&&a.classList.add("active"),e.classList.add("active"))})}()}();
